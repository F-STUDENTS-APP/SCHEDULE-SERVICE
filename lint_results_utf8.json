[{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\__tests__\\health.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\app.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\config\\logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\config\\prisma.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\controllers\\attendance.controller.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\controllers\\schedule.controller.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Request' is defined but never used.","line":1,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":17,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Request"},"fix":{"range":[9,17],"text":""},"desc":"Remove unused variable \"Request\"."}]},{"ruleId":"prettier/prettier","severity":2,"message":"Replace `ΓÅÄ┬╖┬╖┬╖┬╖┬╖┬╖(b)┬╖=>┬╖currentTime┬╖>=┬╖b.start┬╖&&┬╖currentTime┬╖<=┬╖b.endΓÅÄ┬╖┬╖┬╖┬╖` with `(b)┬╖=>┬╖currentTime┬╖>=┬╖b.start┬╖&&┬╖currentTime┬╖<=┬╖b.end`","line":60,"column":42,"nodeType":null,"messageId":"replace","endLine":62,"endColumn":5,"fix":{"range":[2055,2120],"text":"(b) => currentTime >= b.start && currentTime <= b.end"}}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":1,"fixableWarningCount":0,"source":"import { Request, Response } from 'express';\nimport { DayOfWeek } from '@prisma/client';\nimport prisma from '../config/prisma';\nimport { sendResponse, sendError } from '../utils/response';\nimport { AuthenticatedRequest } from '../types';\nimport { createScheduleSchema } from '../validators/schedule.validator';\nimport dayjs from 'dayjs';\n\nexport const getSchedules = async (req: AuthenticatedRequest, res: Response) => {\n  const { classId, day } = req.query;\n  const where = {\n    ...(classId && { classId: classId as string }),\n    ...(day && { day: day as DayOfWeek }),\n    isActive: true,\n  };\n\n  const items = await prisma.schedule.findMany({\n    where,\n    orderBy: { startTime: 'asc' },\n    include: { subject: true },\n  });\n\n  return sendResponse(res, 200, true, 'Schedules retrieved', items);\n};\n\nexport const createSchedule = async (req: AuthenticatedRequest, res: Response) => {\n  const { error, value } = createScheduleSchema.validate(req.body);\n  if (error) return sendError(res, 400, error.details[0].message);\n\n  const schedule = await prisma.schedule.create({ data: value });\n  return sendResponse(res, 201, true, 'Schedule created', schedule);\n};\n\nexport const getActiveLesson = async (req: AuthenticatedRequest, res: Response) => {\n  const { classId } = req.params;\n  const now = dayjs();\n  const currentDay = now.format('dddd').toUpperCase(); // MONDAY, etc.\n  const currentTime = now.format('HH:mm');\n\n  // Find schedule that matches current day and time range\n  const active = await prisma.schedule.findFirst({\n    where: {\n      classId,\n      day: currentDay as DayOfWeek,\n      startTime: { lte: currentTime },\n      endTime: { gte: currentTime },\n      isActive: true,\n    },\n    include: { subject: true },\n  });\n\n  if (!active) {\n    interface BreakTime {\n      start: string;\n      end: string;\n      name: string;\n    }\n    // Check if it's break time (placeholder logic - could be from env/config)\n    const breakTimes: BreakTime[] = JSON.parse(process.env.BREAK_TIME_CONFIG || '[]');\n    const currentBreak = breakTimes.find(\n      (b) => currentTime >= b.start && currentTime <= b.end\n    );\n\n    return sendResponse(res, 200, true, 'Status retrieved', {\n      status: currentBreak ? 'BREAK' : 'NO_ACTIVE_LESSON',\n      breakName: currentBreak?.name || null,\n    });\n  }\n\n  return sendResponse(res, 200, true, 'Active lesson retrieved', {\n    status: 'IN_CLASS',\n    lesson: active,\n  });\n};\n","usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\controllers\\subject.controller.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\routes\\schedule.routes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\types\\index.ts","messages":[{"ruleId":"prettier/prettier","severity":2,"message":"Delete `ΓÉì`","line":1,"column":35,"nodeType":null,"messageId":"delete","endLine":1,"endColumn":36,"fix":{"range":[34,35],"text":""}},{"ruleId":"prettier/prettier","severity":2,"message":"Delete `ΓÉì`","line":2,"column":1,"nodeType":null,"messageId":"delete","endLine":2,"endColumn":2,"fix":{"range":[36,37],"text":""}},{"ruleId":"prettier/prettier","severity":2,"message":"Delete `ΓÉì`","line":3,"column":56,"nodeType":null,"messageId":"delete","endLine":3,"endColumn":57,"fix":{"range":[93,94],"text":""}},{"ruleId":"prettier/prettier","severity":2,"message":"Replace `┬╖┬╖┬╖┬╖user?:┬╖{ΓÉì` with `┬╖┬╖user?:┬╖{`","line":4,"column":1,"nodeType":null,"messageId":"replace","endLine":4,"endColumn":14,"fix":{"range":[95,108],"text":"  user?: {"}},{"ruleId":"prettier/prettier","severity":2,"message":"Replace `┬╖┬╖┬╖┬╖┬╖┬╖┬╖┬╖id:┬╖string;ΓÉì` with `┬╖┬╖┬╖┬╖id:┬╖string;`","line":5,"column":1,"nodeType":null,"messageId":"replace","endLine":5,"endColumn":21,"fix":{"range":[109,129],"text":"    id: string;"}},{"ruleId":"prettier/prettier","severity":2,"message":"Replace `┬╖┬╖┬╖┬╖┬╖┬╖┬╖┬╖role:┬╖string;ΓÉì` with `┬╖┬╖┬╖┬╖role:┬╖string;`","line":6,"column":1,"nodeType":null,"messageId":"replace","endLine":6,"endColumn":23,"fix":{"range":[130,152],"text":"    role: string;"}},{"ruleId":"prettier/prettier","severity":2,"message":"Replace `┬╖┬╖┬╖┬╖┬╖┬╖┬╖┬╖[key:┬╖string]:┬╖any;ΓÉì` with `┬╖┬╖┬╖┬╖[key:┬╖string]:┬╖any;`","line":7,"column":1,"nodeType":null,"messageId":"replace","endLine":7,"endColumn":29,"fix":{"range":[153,181],"text":"    [key: string]: any;"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[176,179],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[176,179],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"prettier/prettier","severity":2,"message":"Replace `┬╖┬╖┬╖┬╖};ΓÉì` with `┬╖┬╖};`","line":8,"column":1,"nodeType":null,"messageId":"replace","endLine":8,"endColumn":8,"fix":{"range":[182,189],"text":"  };"}},{"ruleId":"prettier/prettier","severity":2,"message":"Delete `ΓÉì`","line":9,"column":2,"nodeType":null,"messageId":"delete","endLine":9,"endColumn":3,"fix":{"range":[191,192],"text":""}}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":9,"fixableWarningCount":0,"source":"import { Request } from 'express';\r\n\r\nexport interface AuthenticatedRequest extends Request {\r\n    user?: {\r\n        id: string;\r\n        role: string;\r\n        [key: string]: any;\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\utils\\response.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\Become Full Stack\\Job\\candra\\Microservices\\schedule-service\\src\\validators\\schedule.validator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
